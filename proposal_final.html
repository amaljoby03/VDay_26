<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>A Special Question</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=Lora:ital,wght@0,400;0,600;1,400&display=swap"
            rel="stylesheet"
        />
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            :root {
                --primary: #3a7bd5;
                --secondary: #25507a;
                --accent: #9fc5ff;
                --dark: #0f1a2b;
                --light: #f3f7ff;
                --rose: #6bb2ff;
            }

            body {
                font-family: "Lora", serif;
                background: var(--light);
                color: #ffffff;
                overflow-x: hidden;
                text-rendering: optimizeLegibility;
                -webkit-font-smoothing: antialiased;
            }

            /* Background Video Styles */
            .video-background {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: -1;
                overflow: hidden;
                transition: opacity 1s ease;
            }

            .video-background.hidden {
                opacity: 0;
                pointer-events: none;
            }

            .video-background video {
                position: absolute;
                top: 50%;
                left: 50%;
                min-width: 100%;
                min-height: 100%;
                width: auto;
                height: auto;
                transform: translate(-50%, -50%);
                object-fit: cover;
            }

            /* Background Slideshow Styles */
            .slideshow-background {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: -1;
                overflow: hidden;
                transition: opacity 1s ease;
            }

            .slideshow-background.hidden {
                opacity: 0;
                pointer-events: none;
            }

            .slideshow-background img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                transition: opacity 2.4s ease;
                opacity: 1;
                transform: scale(1);
                animation: kenburns 12s ease-in-out infinite;
            }

            .slideshow-background img.fade-out {
                opacity: 0;
            }

            @keyframes kenburns {
                0% {
                    transform: scale(1);
                }
                50% {
                    transform: scale(1.06);
                }
                100% {
                    transform: scale(1);
                }
            }

            .video-overlay {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(15, 26, 43, 0.1);
                backdrop-filter: blur(0.5px);
            }

            .section {
                min-height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 2rem;
                position: relative;
                opacity: 0;
                transition: opacity 1.5s ease;
                background: transparent;
            }

            .section.visible {
                opacity: 1;
            }

            /* Animated background particles */
            .particles {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 0;
            }

            .particle {
                position: absolute;
                width: 4px;
                height: 4px;
                background: var(--primary);
                border-radius: 50%;
                opacity: 0;
                animation: float 8s infinite ease-in-out;
            }

            @keyframes float {
                0%,
                100% {
                    transform: translateY(0) translateX(0);
                    opacity: 0;
                }
                10% {
                    opacity: 0.6;
                }
                50% {
                    transform: translateY(-100vh) translateX(50px);
                    opacity: 0.3;
                }
                90% {
                    opacity: 0.6;
                }
            }

            /* Landing Section */
            #landing {
                background: transparent;
                flex-direction: column;
            }

            .main-title {
                font-family: "Cormorant Garamond", serif;
                font-size: clamp(3rem, 10vw, 7rem);
                font-weight: 300;
                letter-spacing: 0.1em;
                text-align: center;
                margin-bottom: 2rem;
                background: none;
                color: #ffffff;
                -webkit-text-fill-color: #ffffff;
                animation: fadeInDown 2s ease;
                text-shadow: 0 6px 24px rgba(0, 0, 0, 0.35);
            }

            .subtitle {
                font-size: clamp(1.2rem, 3vw, 1.8rem);
                font-weight: 300;
                font-style: italic;
                text-align: center;
                color: #ffffff;
                margin-bottom: 4rem;
                animation: fadeInUp 2s ease 0.5s both;
                text-shadow: 0 3px 12px rgba(0, 0, 0, 0.35);
            }

            .start-btn {
                padding: 1.5rem 4rem;
                font-family: "Cormorant Garamond", serif;
                font-size: 1.5rem;
                font-weight: 600;
                letter-spacing: 0.15em;
                background: var(--primary);
                color: var(--light);
                border: none;
                cursor: pointer;
                position: relative;
                overflow: hidden;
                transition: all 0.4s ease;
                animation: fadeInUp 2s ease 1s both;
            }

            .start-btn::before {
                content: "";
                position: absolute;
                top: 50%;
                left: 50%;
                width: 0;
                height: 0;
                background: var(--secondary);
                border-radius: 50%;
                transform: translate(-50%, -50%);
                transition:
                    width 0.6s,
                    height 0.6s;
            }

            .start-btn:hover::before {
                width: 300px;
                height: 300px;
            }

            .start-btn span {
                position: relative;
                z-index: 1;
            }

            .start-btn:hover {
                transform: translateY(-3px);
                box-shadow: 0 10px 30px rgba(212, 163, 115, 0.4);
            }

            /* Memory Sections */
            .memory-section {
                background: transparent;
                position: relative;
            }

            .memory-section::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: radial-gradient(
                    circle at 30% 50%,
                    rgba(212, 163, 115, 0.05) 0%,
                    transparent 50%
                );
                pointer-events: none;
            }

            .memory-content {
                max-width: 800px;
                text-align: center;
                position: relative;
                z-index: 1;
            }

            .memory-number {
                font-family: "Cormorant Garamond", serif;
                font-size: 1.2rem;
                letter-spacing: 0.3em;
                color: var(--primary);
                margin-bottom: 1rem;
                opacity: 0;
                transform: translateY(20px);
                transition: all 1s ease;
            }

            .visible .memory-number {
                opacity: 1;
                transform: translateY(0);
            }

            .memory-title {
                font-family: "Cormorant Garamond", serif;
                font-size: clamp(2.5rem, 6vw, 4rem);
                font-weight: 400;
                margin-bottom: 2rem;
                color: #ffffff;
                opacity: 0;
                transform: translateY(30px);
                transition: all 1s ease 0.3s;
                text-shadow: 0 4px 16px rgba(0, 0, 0, 0.35);
            }

            .visible .memory-title {
                opacity: 1;
                transform: translateY(0);
            }

            .memory-text {
                font-size: clamp(1.1rem, 2.5vw, 1.4rem);
                line-height: 2;
                color: #ffffff;
                margin-bottom: 3rem;
                opacity: 0;
                transform: translateY(30px);
                transition: all 1s ease 0.6s;
                text-shadow: 0 3px 12px rgba(0, 0, 0, 0.35);
            }

            .visible .memory-text {
                opacity: 1;
                transform: translateY(0);
            }

            .continue-btn {
                padding: 1rem 3rem;
                font-family: "Lora", serif;
                font-size: 1.1rem;
                background: transparent;
                color: var(--primary);
                border: 2px solid var(--primary);
                cursor: pointer;
                transition: all 0.3s ease;
                opacity: 0;
                transform: translateY(20px);
                transition: all 1s ease 0.9s;
            }

            .visible .continue-btn {
                opacity: 1;
                transform: translateY(0);
            }

            .continue-btn:hover {
                background: var(--primary);
                color: var(--light);
                transform: translateY(-2px);
            }

            /* Proposal Section */
            #proposal {
                background: linear-gradient(
                    135deg,
                    var(--dark) 0%,
                    #3d3426 100%
                );
                flex-direction: column;
                position: relative;
                overflow: hidden;
                min-height: 120vh;
                padding: 4rem 2rem;
            }

            #proposal::before {
                content: "";
                position: absolute;
                width: 200%;
                height: 200%;
                background: radial-gradient(
                    circle,
                    rgba(212, 163, 115, 0.1) 0%,
                    transparent 70%
                );
                animation: rotate 20s linear infinite;
            }

            @keyframes rotate {
                from {
                    transform: rotate(0deg);
                }
                to {
                    transform: rotate(360deg);
                }
            }

            .proposal-layout {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 4rem;
                position: relative;
                z-index: 1;
                max-width: 1200px;
                width: 100%;
            }

            .proposal-content {
                max-width: 600px;
                text-align: center;
                position: relative;
                z-index: 1;
                flex: 1;
            }

            /* Tulip Bouquet Styles */
            .bouquet-container {
                position: relative;
                width: 320px;
                height: 480px;
                flex-shrink: 0;
                display: flex;
                align-items: flex-end;
                justify-content: center;
            }

            .bouquet-wrapper {
                position: relative;
                width: 100%;
                height: 100%;
            }

            .bouquet-message {
                position: absolute;
                top: -40px;
                left: 50%;
                transform: translateX(-50%);
                font-family: "Cormorant Garamond", serif;
                font-size: 1.3rem;
                color: #ffffff;
                text-align: center;
                white-space: nowrap;
                opacity: 0;
                transition: opacity 1s ease;
                text-shadow: 0 3px 12px rgba(0, 0, 0, 0.4);
            }

            .bouquet-message.visible {
                opacity: 1;
            }

            .bouquet-hint {
                position: absolute;
                bottom: 20px;
                left: 50%;
                transform: translateX(-50%);
                font-family: "Lora", serif;
                font-size: 0.9rem;
                color: rgba(255, 255, 255, 0.7);
                text-align: center;
                white-space: nowrap;
                animation: pulse 2s ease infinite;
                transition: opacity 0.5s ease;
            }

            .bouquet-hint.hidden {
                opacity: 0;
                pointer-events: none;
            }

            .bouquet-counter {
                position: absolute;
                top: -10px;
                left: 50%;
                transform: translateX(-50%);
                font-family: "Lora", serif;
                font-size: 0.85rem;
                color: rgba(255, 255, 255, 0.6);
                text-align: center;
                white-space: nowrap;
                transition: opacity 0.5s ease;
            }

            .bouquet-counter.hidden {
                opacity: 0;
            }

            .tulip {
                position: absolute;
                bottom: 60px;
                cursor: pointer;
                transition: transform 0.3s ease;
                filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
            }

            .tulip:hover {
                transform: scale(1.08);
            }

            .tulip svg {
                overflow: visible;
            }

            .tulip-stem {
                stroke: #4a8c3f;
                stroke-width: 3;
                fill: none;
                stroke-linecap: round;
            }

            .tulip-leaf {
                fill: #5a9e4a;
                opacity: 0.9;
            }

            .tulip-petal {
                transition: all 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
                transform-origin: bottom center;
            }

            .tulip.bud .tulip-petal {
                opacity: 0.6;
            }

            .tulip.bud .petal-left {
                transform: rotate(5deg) scaleY(0.7);
            }
            .tulip.bud .petal-right {
                transform: rotate(-5deg) scaleY(0.7);
            }
            .tulip.bud .petal-center {
                transform: scaleY(0.75) scaleX(0.85);
            }

            .tulip.bloomed .tulip-petal {
                opacity: 1;
            }
            .tulip.bloomed .petal-left {
                transform: rotate(-18deg) scaleY(1);
            }
            .tulip.bloomed .petal-right {
                transform: rotate(18deg) scaleY(1);
            }
            .tulip.bloomed .petal-center {
                transform: scaleY(1) scaleX(1);
            }

            .tulip.bloomed {
                filter: drop-shadow(0 4px 12px rgba(120, 180, 220, 0.4));
            }

            @keyframes bloomGlow {
                0% {
                    filter: drop-shadow(0 0 0px rgba(120, 180, 220, 0));
                }
                50% {
                    filter: drop-shadow(0 0 20px rgba(120, 180, 220, 0.6));
                }
                100% {
                    filter: drop-shadow(0 4px 12px rgba(120, 180, 220, 0.4));
                }
            }

            .tulip.bloom-animate {
                animation: bloomGlow 0.8s ease forwards;
            }

            /* Wrapping paper / ribbon at the bottom */
            .bouquet-ribbon {
                position: absolute;
                bottom: 30px;
                left: 50%;
                transform: translateX(-50%);
                width: 140px;
                height: 80px;
                z-index: 5;
            }

            .ribbon-wrap {
                fill: rgba(180, 210, 240, 0.25);
                stroke: rgba(160, 200, 235, 0.5);
                stroke-width: 1.5;
            }

            .ribbon-bow {
                fill: rgba(120, 180, 220, 0.6);
                stroke: rgba(100, 160, 210, 0.8);
                stroke-width: 1;
            }

            /* Bouquet Section */
            .bouquet-section {
                background: linear-gradient(135deg, #0a1628 0%, #1a3050 100%);
                flex-direction: column;
                min-height: 100vh;
                padding: 1rem 1.5rem;
            }

            .bouquet-section-content {
                display: flex;
                flex-direction: column;
                align-items: center;
                text-align: center;
                position: relative;
                z-index: 1;
                width: 100%;
                max-width: 500px;
            }

            .bouquet-title {
                font-family: "Cormorant Garamond", serif;
                font-size: clamp(2rem, 5vw, 3rem);
                font-weight: 300;
                color: #ffffff;
                margin-bottom: 0.35rem;
                text-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
            }

            .bouquet-subtitle {
                font-family: "Lora", serif;
                font-size: 1rem;
                color: rgba(255, 255, 255, 0.7);
                margin-bottom: 0.35rem;
                animation: pulse 2s ease infinite;
                transition: opacity 0.5s ease;
            }

            .bouquet-subtitle.hidden {
                opacity: 0;
                pointer-events: none;
            }

            .bouquet-section .bouquet-counter {
                font-family: "Lora", serif;
                font-size: 0.9rem;
                color: rgba(255, 255, 255, 0.6);
                margin-bottom: 0.6rem;
                transition: opacity 0.5s ease;
            }

            .bouquet-section .bouquet-counter.hidden {
                opacity: 0;
            }

            .bouquet-scene {
                position: relative;
                width: 360px;
                height: 340px;
                margin-top: 0.2rem;
                transform: scale(0.95);
                transform-origin: top center;
            }

            /* Tulip grid: 5-col grid for tapping phase */
            .tulip-grid {
                display: grid;
                grid-template-columns: repeat(5, 60px);
                gap: 8px;
                justify-content: center;
                justify-items: center;
                width: 100%;
                position: relative;
                z-index: 2;
            }

            /* Gathered: switch to absolute stacking for bouquet fan */
            .tulip-grid.gathered {
                display: block;
                position: relative;
                height: 320px;
            }

            .tulip-grid.gathered .tulip-btn {
                position: absolute;
                bottom: 0;
                left: 50%;
                transform-origin: bottom center;
            }

            .tulip-grid.gathered .tulip-btn:nth-child(1) {
                transform: translateX(-50%) rotate(-22deg);
                z-index: 1;
            }
            .tulip-grid.gathered .tulip-btn:nth-child(2) {
                transform: translateX(-50%) rotate(-16deg);
                z-index: 2;
            }
            .tulip-grid.gathered .tulip-btn:nth-child(3) {
                transform: translateX(-50%) rotate(-10deg);
                z-index: 3;
            }
            .tulip-grid.gathered .tulip-btn:nth-child(4) {
                transform: translateX(-50%) rotate(-4deg);
                z-index: 4;
            }
            .tulip-grid.gathered .tulip-btn:nth-child(5) {
                transform: translateX(-50%) rotate(2deg);
                z-index: 5;
            }
            .tulip-grid.gathered .tulip-btn:nth-child(6) {
                transform: translateX(-50%) rotate(8deg);
                z-index: 4;
            }
            .tulip-grid.gathered .tulip-btn:nth-child(7) {
                transform: translateX(-50%) rotate(14deg);
                z-index: 3;
            }
            .tulip-grid.gathered .tulip-btn:nth-child(8) {
                transform: translateX(-50%) rotate(20deg);
                z-index: 2;
            }
            .tulip-grid.gathered .tulip-btn:nth-child(9) {
                transform: translateX(-50%) rotate(-7deg);
                z-index: 3;
            }
            .tulip-grid.gathered .tulip-btn:nth-child(10) {
                transform: translateX(-50%) rotate(5deg);
                z-index: 3;
            }

            .tulip-btn {
                background: none;
                border: none;
                cursor: pointer;
                width: 60px;
                height: 140px;
                padding: 0;
                transition:
                    transform 1s cubic-bezier(0.68, -0.55, 0.265, 1.55),
                    filter 0.8s ease,
                    left 1s ease,
                    bottom 1s ease;
                filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .tulip-btn:hover {
                filter: drop-shadow(0 4px 16px rgba(120, 180, 220, 0.4))
                    brightness(1.1);
            }

            .tulip-btn svg {
                width: 100%;
                height: 100%;
                overflow: visible;
            }

            .tulip-btn .petal {
                transition: all 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
                transform-origin: center bottom;
            }

            .tulip-btn.bud .petal-left {
                transform: rotate(5deg) scaleY(0.7);
                opacity: 0.6;
            }
            .tulip-btn.bud .petal-right {
                transform: rotate(-5deg) scaleY(0.7);
                opacity: 0.6;
            }
            .tulip-btn.bud .petal-back {
                transform: scaleY(0.75) scaleX(0.85);
                opacity: 0.6;
            }

            .tulip-btn.bloomed .petal-left {
                transform: rotate(-18deg) scaleY(1);
                opacity: 1;
            }
            .tulip-btn.bloomed .petal-right {
                transform: rotate(18deg) scaleY(1);
                opacity: 1;
            }
            .tulip-btn.bloomed .petal-back {
                transform: scaleY(1) scaleX(1);
                opacity: 1;
            }

            .tulip-btn.bloomed {
                filter: drop-shadow(0 4px 12px rgba(120, 180, 220, 0.5));
            }

            .tulip-btn.just-bloomed {
                animation: bloomGlowBtn 0.8s ease forwards;
            }

            @keyframes bloomGlowBtn {
                0% {
                    filter: drop-shadow(0 0 0px rgba(120, 180, 220, 0));
                }
                50% {
                    filter: drop-shadow(0 0 20px rgba(120, 180, 220, 0.7));
                }
                100% {
                    filter: drop-shadow(0 4px 12px rgba(120, 180, 220, 0.5));
                }
            }

            /* Bouquet wrap overlay — ribbon + bow at 1/3 from bottom */
            .bouquet-ribbon-wrap {
                position: absolute;
                bottom: 18%;
                left: 50%;
                transform: translateX(-50%) scale(0);
                width: 110px;
                z-index: 3;
                opacity: 0;
                transition: all 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.4s;
                pointer-events: none;
            }

            .bouquet-ribbon-wrap.show {
                transform: translateX(-50%) scale(1);
                opacity: 1;
            }

            .bouquet-extras.show .bouquet-ribbon-wrap {
                transform: translateX(-50%) scale(1);
                opacity: 1;
            }

            /* Decorative leaves behind gathered tulips */

            .bouquet-section .bouquet-message {
                position: static;
                font-family: "Cormorant Garamond", serif;
                font-size: 1.3rem;
                color: #ffffff;
                text-align: center;
                margin-top: 0.7rem;
                opacity: 0;
                transform: translateY(8px);
                transition:
                    opacity 1.2s ease,
                    transform 1.2s ease;
                text-shadow: 0 3px 12px rgba(0, 0, 0, 0.4);
            }

            .bouquet-section .bouquet-message.visible {
                opacity: 1;
                transform: translateY(0);
            }

            .bouquet-continue {
                margin-top: 1.5rem;
                opacity: 0 !important;
                pointer-events: none;
                transition: opacity 0.8s ease !important;
            }

            .bouquet-continue.show {
                opacity: 1 !important;
                pointer-events: auto;
            }

            @media (max-width: 768px) {
                .proposal-layout {
                    flex-direction: column-reverse;
                    gap: 2rem;
                }

                .bouquet-scene {
                    width: 300px;
                    height: 400px;
                }

                .tulip-grid {
                    grid-template-columns: repeat(5, 50px);
                    gap: 6px;
                }

                .tulip-btn {
                    width: 50px;
                    height: 115px;
                }

                .bouquet-ribbon-wrap {
                    width: 100px;
                }
            }

            .proposal-title {
                font-family: "Cormorant Garamond", serif;
                font-size: clamp(2.5rem, 7vw, 5rem);
                font-weight: 300;
                color: #ffffff;
                margin-bottom: 3rem;
                opacity: 0;
                animation: fadeInScale 2s ease 0.5s forwards;
                text-shadow: 0 5px 20px rgba(0, 0, 0, 0.4);
            }

            .proposal-question {
                font-family: "Cormorant Garamond", serif;
                font-size: clamp(2.5rem, 8vw, 5rem);
                font-weight: 600;
                letter-spacing: 0.05em;
                margin: 3rem 0;
                background: none;
                color: #ffffff;
                -webkit-text-fill-color: #ffffff;
                opacity: 0;
                animation: fadeInScale 2s ease 1.5s forwards;
                text-shadow: 0 6px 24px rgba(0, 0, 0, 0.45);
            }

            .proposal-subtitle {
                font-family: "Lora", serif;
                font-size: clamp(1rem, 2.5vw, 1.3rem);
                font-style: italic;
                color: #ffffff;
                margin-bottom: 2rem;
                opacity: 0;
                animation: fadeInUp 2s ease 2s forwards;
                text-shadow: 0 3px 12px rgba(0, 0, 0, 0.4);
            }

            .answer-buttons {
                display: flex;
                gap: 3rem;
                justify-content: center;
                margin-top: 4rem;
                position: relative;
                opacity: 0;
                animation: fadeInUp 2s ease 2.5s forwards;
            }

            .answer-btn {
                width: 120px;
                height: 120px;
                border-radius: 50%;
                font-size: 4rem;
                border: none;
                cursor: pointer;
                transition: all 0.3s ease;
                position: relative;
                overflow: visible;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            }

            .yes-btn {
                background: linear-gradient(135deg, var(--accent), var(--rose));
                position: relative;
            }

            .yes-btn::after {
                content: "";
                position: absolute;
                top: 50%;
                left: 50%;
                width: 0;
                height: 0;
                background: var(--primary);
                border-radius: 50%;
                transform: translate(-50%, -50%);
                transition:
                    width 0.6s,
                    height 0.6s;
                z-index: -1;
            }

            .yes-btn:hover::after {
                width: 140px;
                height: 140px;
            }

            .yes-btn:hover {
                transform: scale(1.15);
                box-shadow: 0 15px 40px rgba(232, 196, 160, 0.6);
            }

            .no-btn {
                background: linear-gradient(135deg, #e8e8e8, #d0d0d0);
                position: absolute;
                will-change: transform;
            }

            .no-btn:hover {
                transform: scale(1.05);
            }

            .koala-icon {
                width: 84px;
                height: 84px;
                object-fit: contain;
                user-select: none;
                pointer-events: none;
            }

            /* Celebration */
            #celebration {
                background: linear-gradient(
                    135deg,
                    var(--rose) 0%,
                    var(--accent) 100%
                );
                display: none;
                flex-direction: column;
            }

            #celebration.show {
                display: flex;
            }

            .celebration-text {
                font-family: "Cormorant Garamond", serif;
                font-size: clamp(3rem, 8vw, 6rem);
                font-weight: 600;
                text-align: center;
                color: var(--light);
                text-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
                animation: pulse 2s ease infinite;
                margin-bottom: 3rem;
                text-shadow: 0 6px 24px rgba(0, 0, 0, 0.5);
            }

            .coupons-title {
                font-family: "Cormorant Garamond", serif;
                font-size: clamp(2rem, 5vw, 3rem);
                font-weight: 400;
                color: var(--light);
                text-align: center;
                margin-bottom: 2rem;
                text-shadow: 0 4px 16px rgba(0, 0, 0, 0.45);
            }

            .coupons-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 1.5rem;
                max-width: 800px;
                margin: 0 auto;
                padding: 0 2rem;
            }

            .coupon-card {
                background: var(--light);
                color: var(--dark);
                border-radius: 12px;
                padding: 1.5rem;
                text-align: center;
                cursor: pointer;
                transition: all 0.3s ease;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
                position: relative;
                overflow: hidden;
            }

            .coupon-card::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(
                    135deg,
                    transparent,
                    rgba(212, 163, 115, 0.1)
                );
                opacity: 0;
                transition: opacity 0.3s ease;
            }

            .coupon-card:hover {
                transform: translateY(-5px) scale(1.05);
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            }

            .coupon-card:hover::before {
                opacity: 1;
            }

            .coupon-title {
                font-family: "Cormorant Garamond", serif;
                font-size: 1.3rem;
                font-weight: 600;
                color: var(--dark);
                margin-bottom: 0.5rem;
            }

            .coupon-subtitle {
                font-size: 0.9rem;
                color: var(--secondary);
                font-style: italic;
            }

            .download-hint {
                margin-top: 2rem;
                text-align: center;
                color: var(--light);
                font-size: 0.95rem;
                opacity: 0.8;
            }

            .replay-btn {
                margin-top: 2.5rem;
                padding: 1rem 3rem;
                font-family: "Cormorant Garamond", serif;
                font-size: 1.2rem;
                letter-spacing: 0.08em;
                background: transparent;
                color: var(--light);
                border: 2px solid var(--light);
                cursor: pointer;
                transition: all 0.3s ease;
                text-transform: uppercase;
                display: inline-block;
            }

            .coupons-section {
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            .replay-btn:hover {
                background: var(--light);
                color: var(--dark);
                transform: translateY(-2px);
            }

            /* Hearts Animation */
            .hearts {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 9999;
                display: none;
            }

            .hearts.show {
                display: block;
            }

            .heart {
                position: absolute;
                font-size: 30px;
                animation: floatHeart 4s ease-in infinite;
                opacity: 0;
            }

            @keyframes floatHeart {
                0% {
                    transform: translateY(100vh) scale(0);
                    opacity: 0;
                }
                10% {
                    opacity: 1;
                }
                90% {
                    opacity: 1;
                }
                100% {
                    transform: translateY(-100vh) scale(1.5);
                    opacity: 0;
                }
            }

            @keyframes fadeInDown {
                from {
                    opacity: 0;
                    transform: translateY(-50px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            @keyframes fadeInUp {
                from {
                    opacity: 0;
                    transform: translateY(50px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            @keyframes fadeInScale {
                from {
                    opacity: 0;
                    transform: scale(0.8);
                }
                to {
                    opacity: 1;
                    transform: scale(1);
                }
            }

            @keyframes pulse {
                0%,
                100% {
                    transform: scale(1);
                }
                50% {
                    transform: scale(1.05);
                }
            }

            /* Scroll indicator */
            .scroll-indicator {
                position: absolute;
                bottom: 2rem;
                left: 50%;
                transform: translateX(-50%);
                opacity: 0;
                animation:
                    fadeInUp 2s ease 1.5s forwards,
                    bounce 2s ease infinite 3.5s;
            }

            @keyframes bounce {
                0%,
                100% {
                    transform: translateX(-50%) translateY(0);
                }
                50% {
                    transform: translateX(-50%) translateY(-10px);
                }
            }

            .scroll-indicator::before {
                content: "\2193";
                font-size: 2rem;
                color: var(--primary);
            }

            /* Music Player Styles */
            .music-player {
                position: fixed;
                bottom: 2rem;
                right: 2rem;
                z-index: 1000;
                transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            }

            .player-container {
                background: rgba(250, 248, 245, 0.95);
                backdrop-filter: blur(10px);
                border-radius: 20px;
                padding: 1.5rem;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
                border: 1px solid rgba(212, 163, 115, 0.3);
                display: flex;
                gap: 1.5rem;
                align-items: center;
                max-width: 450px;
                transition: all 0.3s ease;
            }

            .music-player.minimized .player-container {
                padding: 0.8rem;
                max-width: 60px;
            }

            .music-player.minimized .album-art {
                width: 45px;
                height: 45px;
            }

            .music-player.minimized .player-controls {
                display: none;
            }

            .album-art {
                position: relative;
                width: 120px;
                height: 120px;
                flex-shrink: 0;
                border-radius: 12px;
                overflow: hidden;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
                transition: all 0.3s ease;
            }

            .album-art img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                display: block;
            }

            .vinyl-effect {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: radial-gradient(
                    circle,
                    transparent 30%,
                    rgba(0, 0, 0, 0.1) 31%,
                    transparent 32%
                );
                animation: spin 3s linear infinite;
                animation-play-state: paused;
            }

            .music-player.playing .vinyl-effect {
                animation-play-state: running;
            }

            @keyframes spin {
                from {
                    transform: rotate(0deg);
                }
                to {
                    transform: rotate(360deg);
                }
            }

            .player-controls {
                flex: 1;
                display: flex;
                flex-direction: column;
                gap: 0.8rem;
                min-width: 0;
            }

            .song-info {
                margin-bottom: 0.3rem;
            }

            .song-title {
                font-family: "Cormorant Garamond", serif;
                font-size: 1.1rem;
                font-weight: 600;
                color: var(--dark);
                margin-bottom: 0.2rem;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            .song-artist {
                font-size: 0.85rem;
                color: var(--secondary);
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            .progress-container {
                display: flex;
                align-items: center;
                gap: 0.5rem;
            }

            .time {
                font-size: 0.75rem;
                color: var(--secondary);
                min-width: 35px;
                font-family: monospace;
            }

            .progress-bar {
                flex: 1;
                height: 6px;
                background: rgba(212, 163, 115, 0.2);
                border-radius: 3px;
                position: relative;
                overflow: hidden;
            }

            .progress-fill {
                height: 100%;
                background: linear-gradient(90deg, var(--primary), var(--rose));
                border-radius: 3px;
                width: 0%;
                transition: width 0.1s linear;
            }

            .progress-slider {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                opacity: 0;
                cursor: pointer;
            }

            .control-buttons {
                display: flex;
                align-items: center;
                gap: 0.8rem;
            }

            .control-btn {
                width: 40px;
                height: 40px;
                border-radius: 50%;
                border: none;
                background: var(--primary);
                color: var(--light);
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1rem;
                transition: all 0.3s ease;
                box-shadow: 0 2px 8px rgba(212, 163, 115, 0.3);
            }

            .control-btn:hover {
                transform: scale(1.1);
                background: var(--secondary);
            }

            .skip-btn {
                width: 35px;
                height: 35px;
                font-size: 0.9rem;
            }

            .volume-btn {
                width: 35px;
                height: 35px;
                background: transparent;
                border: 1px solid var(--primary);
                box-shadow: none;
            }

            .volume-slider {
                width: 80px;
                height: 4px;
                -webkit-appearance: none;
                appearance: none;
                background: rgba(212, 163, 115, 0.2);
                border-radius: 2px;
                outline: none;
                cursor: pointer;
            }

            .volume-slider::-webkit-slider-thumb {
                -webkit-appearance: none;
                appearance: none;
                width: 12px;
                height: 12px;
                background: var(--primary);
                border-radius: 50%;
                cursor: pointer;
            }

            .volume-slider::-moz-range-thumb {
                width: 12px;
                height: 12px;
                background: var(--primary);
                border-radius: 50%;
                cursor: pointer;
                border: none;
            }

            .toggle-player {
                position: absolute;
                top: -10px;
                right: -10px;
                width: 30px;
                height: 30px;
                border-radius: 50%;
                background: var(--secondary);
                color: var(--light);
                border: none;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1rem;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
                transition: all 0.3s ease;
            }

            .toggle-player:hover {
                transform: scale(1.1);
                background: var(--primary);
            }

            /* Photo sections */
            .photo-container {
                margin: 2rem 0;
                opacity: 0;
                transform: scale(0.95);
                transition: all 1s ease 1.2s;
            }

            .visible .photo-container {
                opacity: 1;
                transform: scale(1);
            }

            .memory-photo {
                width: 100%;
                max-width: 500px;
                height: 400px;
                object-fit: cover;
                border-radius: 8px;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
                border: 8px solid var(--light);
                outline: 1px solid var(--primary);
                margin: 0 auto;
                display: block;
            }

            @media (max-width: 768px) {
                #proposal {
                    min-height: 100vh;
                }

                .answer-buttons {
                    flex-direction: row;
                    gap: 2rem;
                    margin-top: 6rem;
                }

                .answer-btn {
                    width: 100px;
                    height: 100px;
                    font-size: 3rem;
                }

                .emoji-face,
                .emoji-base {
                    font-size: 3rem;
                }

                .eyes-container {
                    gap: 18px;
                    top: 30%;
                }

                .eye {
                    width: 12px;
                    height: 12px;
                }

                .pupil {
                    width: 6px;
                    height: 6px;
                }

                .music-player {
                    bottom: 1rem;
                    right: 1rem;
                    left: 1rem;
                }

                .player-container {
                    max-width: 100%;
                }

                .album-art {
                    width: 80px;
                    height: 80px;
                }

                .volume-slider {
                    width: 60px;
                }

                .memory-photo {
                    height: 300px;
                }
            }

            /* Quiz Section Styles */
            .quiz-section {
                background: linear-gradient(135deg, #f3f7ff 0%, #e6f0ff 100%);
                min-height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 4rem 2rem;
                position: relative;
            }

            .quiz-container {
                max-width: 900px;
                width: 100%;
                text-align: center;
            }

            .quiz-title {
                font-family: "Cormorant Garamond", serif;
                font-size: clamp(2.5rem, 6vw, 4rem);
                font-weight: 400;
                margin-bottom: 1rem;
                color: var(--dark);
                opacity: 0;
                transform: translateY(30px);
                transition: all 1s ease;
            }

            .visible .quiz-title {
                opacity: 1;
                transform: translateY(0);
            }

            .quiz-subtitle {
                font-size: clamp(1rem, 2.5vw, 1.3rem);
                color: var(--secondary);
                margin-bottom: 3rem;
                font-style: italic;
                opacity: 0;
                transform: translateY(30px);
                transition: all 1s ease 0.3s;
            }

            .visible .quiz-subtitle {
                opacity: 1;
                transform: translateY(0);
            }

            .quiz-question {
                margin-bottom: 4rem;
                opacity: 0;
                transform: translateY(30px);
                transition: all 1s ease 0.6s;
            }

            .visible .quiz-question {
                opacity: 1;
                transform: translateY(0);
            }

            .question-photo {
                width: 100%;
                max-width: 400px;
                height: 350px;
                object-fit: cover;
                border-radius: 20px;
                margin: 0 auto 2rem;
                display: block;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
                border: 8px solid white;
            }

            .question-text {
                font-family: "Cormorant Garamond", serif;
                font-size: clamp(1.5rem, 4vw, 2.5rem);
                color: var(--dark);
                margin-bottom: 2rem;
                font-weight: 600;
            }

            .quiz-options {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 1.5rem;
                max-width: 700px;
                margin: 0 auto;
            }

            .quiz-option {
                perspective: 1000px;
                height: 120px;
            }

            .quiz-option-inner {
                position: relative;
                width: 100%;
                height: 100%;
                transition: transform 0.8s
                    cubic-bezier(0.68, -0.55, 0.265, 1.55);
                transform-style: preserve-3d;
            }

            .quiz-option.flipped .quiz-option-inner {
                transform: rotateY(180deg);
            }

            .quiz-option-front,
            .quiz-option-back {
                position: absolute;
                width: 100%;
                height: 100%;
                backface-visibility: hidden;
                border-radius: 15px;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 1.5rem;
                text-align: center;
                font-family: "Lora", serif;
                font-size: 1.1rem;
                cursor: pointer;
                box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
                transition: all 0.3s ease;
            }

            .quiz-option-front {
                background: white;
                color: var(--dark);
                border: 2px solid var(--accent);
            }

            .quiz-option-front:hover {
                transform: translateY(-5px);
                box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
                border-color: var(--primary);
            }

            .quiz-option-back {
                background: linear-gradient(
                    135deg,
                    var(--primary),
                    var(--rose)
                );
                color: white;
                transform: rotateY(180deg);
                font-weight: 600;
                font-size: 1.2rem;
            }

            .quiz-continue {
                margin-top: 3rem;
                padding: 1rem 3rem;
                font-family: "Lora", serif;
                font-size: 1.1rem;
                background: var(--primary);
                color: white;
                border: none;
                border-radius: 50px;
                cursor: pointer;
                transition: all 0.3s ease;
                opacity: 0;
            }

            .quiz-continue.show {
                opacity: 1;
            }

            .quiz-continue:hover {
                background: var(--secondary);
                transform: translateY(-2px);
                box-shadow: 0 5px 20px rgba(58, 123, 213, 0.4);
            }

            /* Countdown Timer Widget Styles */
            .countdown-widget {
                position: fixed;
                bottom: 2rem;
                left: 2rem;
                z-index: 1000;
                transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
                display: none;
            }

            .countdown-widget.show {
                display: block;
            }

            .countdown-widget.minimized .countdown-container {
                padding: 0.8rem;
                max-width: 80px;
            }

            .countdown-widget.minimized .countdown-photo {
                width: 50px;
                height: 50px;
            }

            .countdown-widget.minimized .countdown-content {
                display: none;
            }

            .countdown-container {
                background: rgba(250, 248, 245, 0.98);
                backdrop-filter: blur(10px);
                border-radius: 20px;
                padding: 1.5rem;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
                border: 2px solid var(--accent);
                display: flex;
                gap: 1.5rem;
                align-items: center;
                max-width: 450px;
                transition: all 0.3s ease;
            }

            .countdown-photo {
                width: 100px;
                height: 100px;
                border-radius: 50%;
                object-fit: cover;
                flex-shrink: 0;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
                border: 3px solid white;
                transition: all 0.3s ease;
            }

            .countdown-content {
                flex: 1;
            }

            .countdown-title {
                font-family: "Cormorant Garamond", serif;
                font-size: 1.3rem;
                font-weight: 600;
                color: var(--dark);
                margin-bottom: 0.8rem;
            }

            .countdown-timer {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                gap: 0.5rem;
            }

            .time-unit {
                text-align: center;
            }

            .time-value {
                font-family: "Cormorant Garamond", serif;
                font-size: 1.8rem;
                font-weight: 600;
                color: var(--primary);
                display: block;
            }

            .time-label {
                font-size: 0.75rem;
                color: var(--secondary);
                text-transform: uppercase;
                letter-spacing: 0.05em;
            }

            .toggle-countdown {
                position: absolute;
                top: -10px;
                right: -10px;
                width: 30px;
                height: 30px;
                border-radius: 50%;
                background: var(--primary);
                color: white;
                border: none;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1rem;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
                transition: all 0.3s ease;
            }

            .toggle-countdown:hover {
                transform: scale(1.1);
                background: var(--secondary);
            }

            /* Reset Button */
            .reset-experience {
                position: fixed;
                top: 2rem;
                right: 2rem;
                padding: 0.8rem 1.5rem;
                background: rgba(255, 255, 255, 0.9);
                color: var(--primary);
                border: 2px solid var(--primary);
                border-radius: 50px;
                font-family: "Lora", serif;
                font-size: 0.9rem;
                cursor: pointer;
                z-index: 999;
                transition: all 0.3s ease;
                opacity: 0;
                pointer-events: none;
            }

            .reset-experience.show {
                opacity: 1;
                pointer-events: all;
            }

            .reset-experience:hover {
                background: var(--primary);
                color: white;
                transform: translateY(-2px);
            }

            @media (max-width: 768px) {
                .quiz-options {
                    grid-template-columns: 1fr;
                    gap: 1rem;
                }

                .quiz-option {
                    height: 100px;
                }

                .question-photo {
                    height: 250px;
                }

                .countdown-widget {
                    left: 1rem;
                    bottom: 6rem;
                }

                .countdown-container {
                    max-width: calc(100vw - 2rem);
                }

                .countdown-photo {
                    width: 70px;
                    height: 70px;
                }

                .time-value {
                    font-size: 1.4rem;
                }

                .reset-experience {
                    top: 1rem;
                    right: 1rem;
                    font-size: 0.8rem;
                    padding: 0.6rem 1.2rem;
                }
            }

            @media (max-width: 600px) {
                .section {
                    padding: 1.25rem;
                }

                #landing {
                    padding-top: 3rem;
                }

                .main-title {
                    font-size: clamp(2.2rem, 12vw, 3.6rem);
                    letter-spacing: 0.04em;
                    margin-bottom: 1.25rem;
                }

                .subtitle {
                    font-size: clamp(1rem, 4.8vw, 1.3rem);
                    margin-bottom: 2rem;
                }

                .start-btn {
                    padding: 1rem 2rem;
                    font-size: 1.15rem;
                    letter-spacing: 0.1em;
                }

                .memory-content {
                    max-width: 100%;
                    width: 100%;
                    padding: 0 0.25rem;
                }

                .memory-text {
                    line-height: 1.7;
                    margin-bottom: 2rem;
                }

                .proposal-layout {
                    gap: 1.5rem;
                }

                .proposal-title {
                    margin-bottom: 1.2rem;
                }

                .proposal-question {
                    margin: 1.5rem 0;
                }

                .answer-buttons {
                    gap: 1rem;
                    margin-top: 4.5rem;
                }

                .countdown-container {
                    gap: 0.8rem;
                    padding: 1rem;
                }

                .countdown-title {
                    font-size: 1.05rem;
                }

                .time-value {
                    font-size: 1.15rem;
                }

                .slideshow-background img {
                    object-fit: cover;
                }
            }
        </style>
    </head>
    <body>
        <!-- Background Video (commented out for now)
    <div class="video-background" id="videoBackground">
        <video id="bgVideo" autoplay muted loop playsinline>
            <source src="" type="video/mp4">
        </video>
        <div class="video-overlay"></div>
    </div>
    -->

        <!-- Background Slideshow -->
        <div class="slideshow-background" id="slideshowBackground">
            <img src="" alt="Background slideshow" id="bgSlideshowImage" />
            <div class="video-overlay"></div>
        </div>

        <!-- Particles Background -->
        <div class="particles" id="particles"></div>

        <!-- Hearts for celebration -->
        <div class="hearts" id="hearts"></div>

        <!-- Music Player -->
        <div class="music-player" id="musicPlayer">
            <div class="player-container">
                <div class="album-art">
                    <img src="" alt="Album Art" id="albumArt" />
                    <div class="vinyl-effect"></div>
                </div>
                <div class="player-controls">
                    <div class="song-info">
                        <div class="song-title" id="songTitle">
                            Your Favorite Song
                        </div>
                        <div class="song-artist" id="songArtist">
                            Artist Name
                        </div>
                    </div>
                    <div class="progress-container">
                        <span class="time" id="currentTime">0:00</span>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                            <input
                                type="range"
                                class="progress-slider"
                                id="progressSlider"
                                min="0"
                                max="100"
                                value="0"
                            />
                        </div>
                        <span class="time" id="duration">0:00</span>
                    </div>
                    <div class="control-buttons">
                        <button class="control-btn skip-btn" id="prevBtn">
                            ⏮
                        </button>
                        <button class="control-btn" id="playPauseBtn">
                            <span class="play-icon">▶</span>
                            <span class="pause-icon" style="display: none"
                                >⏸</span
                            >
                        </button>
                        <button class="control-btn skip-btn" id="nextBtn">
                            ⏭
                        </button>
                        <button class="control-btn volume-btn" id="volumeBtn">
                            🔊
                        </button>
                        <input
                            type="range"
                            class="volume-slider"
                            id="volumeSlider"
                            min="0"
                            max="100"
                            value="70"
                        />
                    </div>
                </div>
                <button class="toggle-player" id="togglePlayer">
                    <span>♫</span>
                </button>
            </div>
        </div>

        <!-- Audio Element -->
        <audio id="bgMusic" loop>
            <source src="" type="audio/mpeg" />
        </audio>

        <!-- Landing Section -->
        <section class="section visible" id="landing">
            <h1 class="main-title">For You, My Pretty Little Baby</h1>
            <p class="subtitle">A journey through our story</p>
            <button class="start-btn" onclick="startJourneyWithMusic()">
                <span>BEGIN</span>
            </button>
            <div class="scroll-indicator"></div>
        </section>

        <!-- Memory 1 -->
        <section class="section memory-section" id="memory1">
            <div class="memory-content">
                <div class="memory-number">01</div>
                <h2 class="memory-title">The First Moment</h2>
                <div class="photo-container">
                    <img
                        src=""
                        alt="Our first moment together"
                        class="memory-photo"
                        id="photo1"
                    />
                </div>
                <p class="memory-text">
                    I still remember the first day you came out of your PG door,
                    all smiling and messy but I kept thinking to myself "She's
                    so pretty and I want to kiss her". I remember how sweet and
                    shy you were and I knew then that I'm cooked right there and
                    that I can never ever stop myself from falling for you. And
                    bruhh, I was never able to recover from that fall; I still
                    think the same each time I see you -"Damn, my baby's so
                    pretty and I want to kiss her"
                </p>
                <button class="continue-btn" onclick="nextSection('memory2')">
                    Continue &rarr;
                </button>
            </div>
        </section>

        <!-- Memory 2 -->
        <section class="section memory-section" id="memory2">
            <div class="memory-content">
                <div class="memory-number">02</div>
                <h2 class="memory-title">One Year of Us</h2>
                <div class="photo-container">
                    <img
                        src=""
                        alt="Growing together"
                        class="memory-photo"
                        id="photo2"
                    />
                </div>
                <p class="memory-text">
                    This past year wasn't really easy. But I am really really
                    glad and so grateful that you were part of it and I cannot
                    stress enough when I tell you were the best part of 2025
                    (second: Coldplay). Through every laugh, every adventure
                    (Nandhi hills, burning my hand, New year), every fight, and
                    every time we get back together again after that, every lazy
                    days and our most energetic days, and every quiet moment,
                    you've shown me what it means to truly care for someone and
                    also what it means to really be loved and to love. If
                    someone said love was wrapped in a box and given to me like
                    a gift, I would still be waiting for you to jump out of it.
                    You are my love, now and always...
                </p>
                <button class="continue-btn" onclick="nextSection('memory3')">
                    Continue &rarr;
                </button>
            </div>
        </section>

        <!-- Memory 3 -->
        <section class="section memory-section" id="memory3">
            <div class="memory-content">
                <div class="memory-number">03</div>
                <h2 class="memory-title">Many More to Come</h2>
                <div class="photo-container">
                    <img
                        src=""
                        alt="Forever starts now"
                        class="memory-photo"
                        id="photo3"
                    />
                </div>
                <p class="memory-text">
                    I can't wait to create more memories with you. More climbing
                    the upper thing in the kitchen drunk, more smoking up in
                    random spots and evading the cops (fuckem), more making out
                    and getting caught in the lift, (no) more burning and
                    wrecking hands but what I mean is more and more of
                    everything that makes us, us. You make every day brighter
                    for me with your cute and happy smile always, your goofy
                    poses(I LOVE THEM), your cute smile when we fight that says
                    "I love you but damn are you so annoying mofo". Ah, I love
                    you too baby, so much. I'm so grateful you're mine.
                </p>
                <button class="continue-btn" onclick="nextSection('quiz')">
                    Continue &rarr;
                </button>
            </div>
        </section>
        <!-- Quiz Section -->
        <section class="section quiz-section" id="quiz">
            <div class="quiz-container">
                <h2 class="quiz-title">
                    How well do you know me baby? (IMPOSSIBLE version) 💕
                </h2>
                <p class="quiz-subtitle">
                    It's okay even if you fail this test, I will always be in
                    love with you...
                </p>

                <!-- Question 1 -->
                <div class="quiz-question">
                    <img
                        src=""
                        alt="Quiz question 1"
                        class="question-photo"
                        id="quizPhoto1"
                    />
                    <p class="question-text">Who makes me the happiest?</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="flipOption(this)">
                            <div class="quiz-option-inner">
                                <div class="quiz-option-front">My family</div>
                                <div class="quiz-option-back">
                                    You, always you ❤️
                                </div>
                            </div>
                        </div>
                        <div class="quiz-option" onclick="flipOption(this)">
                            <div class="quiz-option-inner">
                                <div class="quiz-option-front">My friends</div>
                                <div class="quiz-option-back">
                                    You, always you ❤️
                                </div>
                            </div>
                        </div>
                        <div class="quiz-option" onclick="flipOption(this)">
                            <div class="quiz-option-inner">
                                <div class="quiz-option-front">You 💕</div>
                                <div class="quiz-option-back">
                                    You, always you ❤️
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="quiz-question">
                    <img
                        src=""
                        alt="Quiz question 2"
                        class="question-photo"
                        id="quizPhoto2"
                    />
                    <p class="question-text">
                        Who do I think is the prettiest girl in the world?
                    </p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="flipOption(this)">
                            <div class="quiz-option-inner">
                                <div class="quiz-option-front">Rizwan</div>
                                <div class="quiz-option-back">
                                    Okay, you caught me... 📸/s
                                </div>
                            </div>
                        </div>
                        <div class="quiz-option" onclick="flipOption(this)">
                            <div class="quiz-option-inner">
                                <div class="quiz-option-front">
                                    Gwyneth Paltrow 💕
                                </div>
                                <div class="quiz-option-back">
                                    Bro Hell nahhh
                                </div>
                            </div>
                        </div>
                        <div class="quiz-option" onclick="flipOption(this)">
                            <div class="quiz-option-inner">
                                <div class="quiz-option-front">Naomiii</div>
                                <div class="quiz-option-back">
                                    Only you, forever babyy💕
                                </div>
                            </div>
                        </div>
                        <div class="quiz-option" onclick="flipOption(this)">
                            <div class="quiz-option-inner">
                                <div class="quiz-option-front">
                                    Sydney Sweeney
                                </div>
                                <div class="quiz-option-back">
                                    Only you, forever 💕
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="quiz-question">
                    <img
                        src=""
                        alt="Quiz question 3"
                        class="question-photo"
                        id="quizPhoto3"
                    />
                    <p class="question-text">
                        Who do I annoy, and want to keep annoying the most in
                        the world?
                    </p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="flipOption(this)">
                            <div class="quiz-option-inner">
                                <div class="quiz-option-front">Alina</div>
                                <div class="quiz-option-back">
                                    It's you, and it will always be you 💝
                                </div>
                            </div>
                        </div>
                        <div class="quiz-option" onclick="flipOption(this)">
                            <div class="quiz-option-inner">
                                <div class="quiz-option-front">You 💝</div>
                                <div class="quiz-option-back">
                                    It's you, and it will always be you 💝
                                </div>
                            </div>
                        </div>
                        <div class="quiz-option" onclick="flipOption(this)">
                            <div class="quiz-option-inner">
                                <div class="quiz-option-front">Rizwan</div>
                                <div class="quiz-option-back">
                                    It's you, and it will always be you 💝
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <button
                    class="quiz-continue"
                    id="quizContinueBtn"
                    onclick="nextSection('bouquetSection')"
                >
                    Continue &rarr;
                </button>
            </div>
        </section>

        <script>
            var bloomedCount = 0;
            var TULIP_COUNT = 10;
            function bloomThis(btn) {
                if (btn.classList.contains("bloomed")) return;
                btn.classList.remove("bud");
                btn.classList.add("bloomed", "just-bloomed");
                bloomedCount++;
                document.getElementById("bouquetCounter").textContent =
                    bloomedCount + " / " + TULIP_COUNT + " bloomed";
                if (bloomedCount >= TULIP_COUNT) {
                    setTimeout(function () {
                        document
                            .getElementById("bouquetCounter")
                            .classList.add("hidden");
                        document
                            .getElementById("tulipGrid")
                            .classList.add("gathered");
                        setTimeout(function () {
                            document
                                .getElementById("bouquetExtras")
                                .classList.add("show");
                        }, 600);
                        setTimeout(function () {
                            document
                                .getElementById("bouquetMessage")
                                .classList.add("visible");
                            document
                                .getElementById("bouquetContinueBtn")
                                .classList.add("show");
                        }, 1500);
                    }, 400);
                }
            }
            function resetBouquet() {
                bloomedCount = 0;
                document.getElementById("bouquetCounter").textContent =
                    "0 / 10 bloomed";
                document
                    .getElementById("bouquetCounter")
                    .classList.remove("hidden");
                document
                    .getElementById("bouquetMessage")
                    .classList.remove("visible");
                document
                    .getElementById("bouquetContinueBtn")
                    .classList.remove("show");
                document
                    .getElementById("tulipGrid")
                    .classList.remove("gathered");
                document
                    .getElementById("bouquetExtras")
                    .classList.remove("show");
                document.querySelectorAll(".tulip-btn").forEach(function (b) {
                    b.classList.remove("bloomed", "just-bloomed");
                    b.classList.add("bud");
                });
            }
        </script>
        <!-- Bouquet Section -->
        <section class="section bouquet-section" id="bouquetSection">
            <div class="bouquet-section-content">
                <h2 class="bouquet-title">I picked these tulips for you...</h2>
                <p class="bouquet-subtitle" id="bouquetSubtitle">
                    Tap each bud to make it bloom
                </p>
                <div class="bouquet-counter" id="bouquetCounter">
                    0 / 10 bloomed
                </div>
                <div class="bouquet-scene" id="bouquetScene">
                    <div class="tulip-grid" id="tulipGrid">
                        <button
                            type="button"
                            class="tulip-btn bud"
                            onclick="bloomThis(this)"
                        >
                            <svg viewBox="0 0 60 140">
                                <path
                                    d="M30 140 Q28 90 30 50"
                                    stroke="#4a8c3f"
                                    stroke-width="3"
                                    fill="none"
                                />
                                <path
                                    d="M29 100 Q12 88 16 78 Q22 88 29 95"
                                    fill="#5a9e4a"
                                />
                                <path
                                    d="M31 110 Q48 98 44 88 Q38 98 31 105"
                                    fill="#5a9e4a"
                                />
                                <ellipse
                                    class="petal petal-back"
                                    cx="30"
                                    cy="32"
                                    rx="11"
                                    ry="20"
                                    fill="#dff0fa"
                                />
                                <ellipse
                                    class="petal petal-left"
                                    cx="22"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#a8d4e6"
                                />
                                <ellipse
                                    class="petal petal-right"
                                    cx="38"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#c8e4f0"
                                />
                            </svg>
                        </button>
                        <button
                            type="button"
                            class="tulip-btn bud"
                            onclick="bloomThis(this)"
                        >
                            <svg viewBox="0 0 60 140">
                                <path
                                    d="M30 140 Q28 90 30 50"
                                    stroke="#4a8c3f"
                                    stroke-width="3"
                                    fill="none"
                                />
                                <path
                                    d="M29 100 Q12 88 16 78 Q22 88 29 95"
                                    fill="#5a9e4a"
                                />
                                <path
                                    d="M31 110 Q48 98 44 88 Q38 98 31 105"
                                    fill="#5a9e4a"
                                />
                                <ellipse
                                    class="petal petal-back"
                                    cx="30"
                                    cy="32"
                                    rx="11"
                                    ry="20"
                                    fill="#d4ecf6"
                                />
                                <ellipse
                                    class="petal petal-left"
                                    cx="22"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#90c8e0"
                                />
                                <ellipse
                                    class="petal petal-right"
                                    cx="38"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#b8daea"
                                />
                            </svg>
                        </button>
                        <button
                            type="button"
                            class="tulip-btn bud"
                            onclick="bloomThis(this)"
                        >
                            <svg viewBox="0 0 60 140">
                                <path
                                    d="M30 140 Q28 90 30 50"
                                    stroke="#4a8c3f"
                                    stroke-width="3"
                                    fill="none"
                                />
                                <path
                                    d="M29 100 Q12 88 16 78 Q22 88 29 95"
                                    fill="#5a9e4a"
                                />
                                <path
                                    d="M31 110 Q48 98 44 88 Q38 98 31 105"
                                    fill="#5a9e4a"
                                />
                                <ellipse
                                    class="petal petal-back"
                                    cx="30"
                                    cy="32"
                                    rx="11"
                                    ry="20"
                                    fill="#e8f5fc"
                                />
                                <ellipse
                                    class="petal petal-left"
                                    cx="22"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#b0d8eb"
                                />
                                <ellipse
                                    class="petal petal-right"
                                    cx="38"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#d0eaf5"
                                />
                            </svg>
                        </button>
                        <button
                            type="button"
                            class="tulip-btn bud"
                            onclick="bloomThis(this)"
                        >
                            <svg viewBox="0 0 60 140">
                                <path
                                    d="M30 140 Q28 90 30 50"
                                    stroke="#4a8c3f"
                                    stroke-width="3"
                                    fill="none"
                                />
                                <path
                                    d="M29 100 Q12 88 16 78 Q22 88 29 95"
                                    fill="#5a9e4a"
                                />
                                <path
                                    d="M31 110 Q48 98 44 88 Q38 98 31 105"
                                    fill="#5a9e4a"
                                />
                                <ellipse
                                    class="petal petal-back"
                                    cx="30"
                                    cy="32"
                                    rx="11"
                                    ry="20"
                                    fill="#cce8f4"
                                />
                                <ellipse
                                    class="petal petal-left"
                                    cx="22"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#85c0dc"
                                />
                                <ellipse
                                    class="petal petal-right"
                                    cx="38"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#aed6ea"
                                />
                            </svg>
                        </button>
                        <button
                            type="button"
                            class="tulip-btn bud"
                            onclick="bloomThis(this)"
                        >
                            <svg viewBox="0 0 60 140">
                                <path
                                    d="M30 140 Q28 90 30 50"
                                    stroke="#4a8c3f"
                                    stroke-width="3"
                                    fill="none"
                                />
                                <path
                                    d="M29 100 Q12 88 16 78 Q22 88 29 95"
                                    fill="#5a9e4a"
                                />
                                <path
                                    d="M31 110 Q48 98 44 88 Q38 98 31 105"
                                    fill="#5a9e4a"
                                />
                                <ellipse
                                    class="petal petal-back"
                                    cx="30"
                                    cy="32"
                                    rx="11"
                                    ry="20"
                                    fill="#daf0f9"
                                />
                                <ellipse
                                    class="petal petal-left"
                                    cx="22"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#9cd0e5"
                                />
                                <ellipse
                                    class="petal petal-right"
                                    cx="38"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#c0e2f2"
                                />
                            </svg>
                        </button>
                        <button
                            type="button"
                            class="tulip-btn bud"
                            onclick="bloomThis(this)"
                        >
                            <svg viewBox="0 0 60 140">
                                <path
                                    d="M30 140 Q28 90 30 50"
                                    stroke="#4a8c3f"
                                    stroke-width="3"
                                    fill="none"
                                />
                                <path
                                    d="M29 100 Q12 88 16 78 Q22 88 29 95"
                                    fill="#5a9e4a"
                                />
                                <path
                                    d="M31 110 Q48 98 44 88 Q38 98 31 105"
                                    fill="#5a9e4a"
                                />
                                <ellipse
                                    class="petal petal-back"
                                    cx="30"
                                    cy="32"
                                    rx="11"
                                    ry="20"
                                    fill="#ecf7fc"
                                />
                                <ellipse
                                    class="petal petal-left"
                                    cx="22"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#b8ddef"
                                />
                                <ellipse
                                    class="petal petal-right"
                                    cx="38"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#d6ecf7"
                                />
                            </svg>
                        </button>
                        <button
                            type="button"
                            class="tulip-btn bud"
                            onclick="bloomThis(this)"
                        >
                            <svg viewBox="0 0 60 140">
                                <path
                                    d="M30 140 Q28 90 30 50"
                                    stroke="#4a8c3f"
                                    stroke-width="3"
                                    fill="none"
                                />
                                <path
                                    d="M29 100 Q12 88 16 78 Q22 88 29 95"
                                    fill="#5a9e4a"
                                />
                                <path
                                    d="M31 110 Q48 98 44 88 Q38 98 31 105"
                                    fill="#5a9e4a"
                                />
                                <ellipse
                                    class="petal petal-back"
                                    cx="30"
                                    cy="32"
                                    rx="11"
                                    ry="20"
                                    fill="#d8eef6"
                                />
                                <ellipse
                                    class="petal petal-left"
                                    cx="22"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#92cae2"
                                />
                                <ellipse
                                    class="petal petal-right"
                                    cx="38"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#badee8"
                                />
                            </svg>
                        </button>
                        <button
                            type="button"
                            class="tulip-btn bud"
                            onclick="bloomThis(this)"
                        >
                            <svg viewBox="0 0 60 140">
                                <path
                                    d="M30 140 Q28 90 30 50"
                                    stroke="#4a8c3f"
                                    stroke-width="3"
                                    fill="none"
                                />
                                <path
                                    d="M29 100 Q12 88 16 78 Q22 88 29 95"
                                    fill="#5a9e4a"
                                />
                                <path
                                    d="M31 110 Q48 98 44 88 Q38 98 31 105"
                                    fill="#5a9e4a"
                                />
                                <ellipse
                                    class="petal petal-back"
                                    cx="30"
                                    cy="32"
                                    rx="11"
                                    ry="20"
                                    fill="#e0f2fa"
                                />
                                <ellipse
                                    class="petal petal-left"
                                    cx="22"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#a0d2e8"
                                />
                                <ellipse
                                    class="petal petal-right"
                                    cx="38"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#c4e4f0"
                                />
                            </svg>
                        </button>
                        <button
                            type="button"
                            class="tulip-btn bud"
                            onclick="bloomThis(this)"
                        >
                            <svg viewBox="0 0 60 140">
                                <path
                                    d="M30 140 Q28 90 30 50"
                                    stroke="#4a8c3f"
                                    stroke-width="3"
                                    fill="none"
                                />
                                <path
                                    d="M29 100 Q12 88 16 78 Q22 88 29 95"
                                    fill="#5a9e4a"
                                />
                                <path
                                    d="M31 110 Q48 98 44 88 Q38 98 31 105"
                                    fill="#5a9e4a"
                                />
                                <ellipse
                                    class="petal petal-back"
                                    cx="30"
                                    cy="32"
                                    rx="11"
                                    ry="20"
                                    fill="#e6f4fb"
                                />
                                <ellipse
                                    class="petal petal-left"
                                    cx="22"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#aed8ec"
                                />
                                <ellipse
                                    class="petal petal-right"
                                    cx="38"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#ceeaf5"
                                />
                            </svg>
                        </button>
                        <button
                            type="button"
                            class="tulip-btn bud"
                            onclick="bloomThis(this)"
                        >
                            <svg viewBox="0 0 60 140">
                                <path
                                    d="M30 140 Q28 90 30 50"
                                    stroke="#4a8c3f"
                                    stroke-width="3"
                                    fill="none"
                                />
                                <path
                                    d="M29 100 Q12 88 16 78 Q22 88 29 95"
                                    fill="#5a9e4a"
                                />
                                <path
                                    d="M31 110 Q48 98 44 88 Q38 98 31 105"
                                    fill="#5a9e4a"
                                />
                                <ellipse
                                    class="petal petal-back"
                                    cx="30"
                                    cy="32"
                                    rx="11"
                                    ry="20"
                                    fill="#d2ecf5"
                                />
                                <ellipse
                                    class="petal petal-left"
                                    cx="22"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#88c4de"
                                />
                                <ellipse
                                    class="petal petal-right"
                                    cx="38"
                                    cy="34"
                                    rx="11"
                                    ry="22"
                                    fill="#b2d8e8"
                                />
                            </svg>
                        </button>
                    </div>
                    <div class="bouquet-extras" id="bouquetExtras">
                        <!-- Ribbon/bow at 1/3 from bottom -->
                        <div class="bouquet-ribbon-wrap" id="bouquetRibbon">
                            <svg viewBox="0 0 120 50" width="100%">
                                <path
                                    d="M30 22 Q10 10 18 0 Q30 8 60 6 Q90 8 102 0 Q110 10 90 22"
                                    fill="#e8849e"
                                    opacity="0.95"
                                />
                                <ellipse
                                    cx="60"
                                    cy="22"
                                    rx="8"
                                    ry="6"
                                    fill="#d06880"
                                />
                                <rect
                                    x="30"
                                    y="24"
                                    width="60"
                                    height="7"
                                    rx="3"
                                    fill="#e8b0c0"
                                    opacity="0.9"
                                />
                                <rect
                                    x="33"
                                    y="33"
                                    width="54"
                                    height="6"
                                    rx="3"
                                    fill="#d4909f"
                                    opacity="0.85"
                                />
                                <rect
                                    x="36"
                                    y="41"
                                    width="48"
                                    height="5"
                                    rx="3"
                                    fill="#e8b0c0"
                                    opacity="0.8"
                                />
                                <path
                                    d="M42 48 Q36 54 28 56"
                                    stroke="#e8849e"
                                    stroke-width="3.5"
                                    fill="none"
                                    stroke-linecap="round"
                                    opacity="0.7"
                                />
                                <path
                                    d="M78 48 Q84 54 92 56"
                                    stroke="#e8849e"
                                    stroke-width="3.5"
                                    fill="none"
                                    stroke-linecap="round"
                                    opacity="0.7"
                                />
                            </svg>
                        </div>
                    </div>
                </div>
                <div class="bouquet-message" id="bouquetMessage">
                    Every petal blooms for you 🌷
                </div>
                <button
                    class="continue-btn bouquet-continue"
                    id="bouquetContinueBtn"
                    onclick="nextSection('proposal')"
                >
                    Continue &rarr;
                </button>
            </div>
        </section>

        <!-- Proposal Section -->
        <section class="section" id="proposal">
            <div class="proposal-content">
                <h2 class="proposal-title">This Valentine's Day...</h2>
                <div class="proposal-question">
                    Will You Be My Valentine, Naomi?
                </div>
                <p class="proposal-subtitle">
                    Again and again, forever and always baby... &#x2764;&#xFE0F;
                </p>
                <div class="answer-buttons" id="answerButtons">
                    <button
                        class="answer-btn yes-btn"
                        id="yesBtn"
                        onclick="sayYes()"
                    >
                        <img
                            class="koala-icon"
                            src="koala_happy.png"
                            alt="Happy koala"
                        />
                    </button>
                    <button class="answer-btn no-btn" id="noBtn">
                        <img
                            class="koala-icon"
                            src="koala_sad.png"
                            alt="Sad koala"
                        />
                    </button>
                </div>
            </div>
        </section>

        <!-- Celebration Section -->
        <section class="section" id="celebration">
            <div class="celebration-text">
                She said YES! LESGOOOOO &#x1F495;<br />
                <span style="font-size: 0.5em; display: block; margin-top: 1rem"
                    >Happy Valentine's Day, my love!</span
                >
            </div>

            <div class="coupons-section">
                <h3 class="coupons-title">
                    Your Special Love Coupons &#x1F381;
                </h3>
                <div class="coupons-grid">
                    <div
                        class="coupon-card"
                        onclick="downloadCoupon('coffeedate.png')"
                    >
                        <div class="coupon-title">Coffee Date</div>
                        <div class="coupon-subtitle">Click to download</div>
                    </div>
                    <div
                        class="coupon-card"
                        onclick="downloadCoupon('kisspass.png')"
                    >
                        <div class="coupon-title">Kissing Coupon</div>
                        <div class="coupon-subtitle">Click to download</div>
                    </div>
                    <div
                        class="coupon-card"
                        onclick="downloadCoupon('bearhug.png')"
                    >
                        <div class="coupon-title">Tight Bear Hug</div>
                        <div class="coupon-subtitle">Click to download</div>
                    </div>
                    <div
                        class="coupon-card"
                        onclick="downloadCoupon('freewish.png')"
                    >
                        <div class="coupon-title">Wildcard Coupon</div>
                        <div class="coupon-subtitle">Click to download</div>
                    </div>
                    <div
                        class="coupon-card"
                        onclick="downloadCoupon('slowdance.png')"
                    >
                        <div class="coupon-title">Slow Dance Tutorial</div>
                        <div class="coupon-subtitle">Click to download</div>
                    </div>
                    <div
                        class="coupon-card"
                        onclick="downloadCoupon('movie.png')"
                    >
                        <div class="coupon-title">Movie Marathon Night</div>
                        <div class="coupon-subtitle">Click to download</div>
                    </div>
                </div>
                <p class="download-hint">
                    &#x1F4A1; Click on any coupon to download and save it!
                </p>
                <button class="replay-btn" onclick="replayMagic()">
                    Click here to experience the magic again
                </button>
            </div>
        </section>

        <script>
            // ===== CUSTOMIZATION SECTION =====
            // Replace these with your actual file paths
            const CONFIG = {
                // Background slideshow configuration
                backgroundSlides: [
                    "images/slide1.jpg",
                    "images/slide2.jpg",
                    "images/slide3.jpg",
                    "images/slide4.jpg",
                    "images/slide5.jpg",
                    "images/slide6.jpg",
                    "images/slide7.jpg",
                    "images/slide8.jpg",
                    "images/slide9.jpg",
                    "images/slide10.jpg",
                    "images/slide11.jpg",
                    "images/slide12.jpg",
                    "images/slide14.jpg",
                    "images/slide15.jpg",
                    "images/slide16.jpg",
                    "images/slide17.jpg",
                    "images/slide18.jpg",
                    "images/slide19.jpg",
                    "images/slide20.jpg",
                    "images/slide21.jpg",
                    "images/slide22.jpg",
                    "images/slide23.jpg",
                    "images/slide24.jpg",
                    "images/slide25.jpg",
                    "images/slide26.jpg",
                    "images/slide27.jpg",
                    "images/slide28.jpg",
                    "images/slide29.jpg",
                    "images/slide30.jpg",
                    "images/slide31.jpg",
                    "images/slide32.jpg",
                    "images/slide33.jpg",
                    "images/slide34.jpg",
                    "images/slide35.jpg",
                    "images/slide36.jpg",
                    "images/slide37.jpg",
                ],
                // Optional per-slide framing. Keys are file names from backgroundSlides.
                // Format: "X% Y%" (object-position)
                backgroundSlidePositions: {
                    "slide1.jpg": "51% 43%",
                    "slide2.jpg": "53% 58%",
                    "slide3.jpg": "50% 74%",
                    "slide4.jpg": "58% 70%",
                    "slide5.jpg": "52% 64%",
                    "slide6.jpg": "49% 61%",
                    "slide7.jpg": "52% 53%",
                    "slide8.jpg": "36% 52%",
                    "slide9.jpg": "78% 58%",
                    "slide10.jpg": "50% 69%",
                    "slide11.jpg": "49% 74%",
                    "slide12.jpg": "48% 67%",
                    "slide14.jpg": "51% 60%",
                    "slide15.jpg": "50% 47%",
                    "slide16.jpg": "47% 55%",
                    "slide17.jpg": "53% 59%",
                    "slide18.jpg": "46% 57%",
                    "slide19.jpg": "57% 56%",
                    "slide20.jpg": "54% 57%",
                    "slide21.jpg": "55% 56%",
                    "slide22.jpg": "56% 58%",
                    "slide23.jpg": "57% 54%",
                    "slide24.jpg": "64% 53%",
                    "slide25.jpg": "49% 63%",
                    "slide26.jpg": "45% 56%",
                    "slide27.jpg": "44% 54%",
                    "slide28.jpg": "48% 55%",
                    "slide29.jpg": "50% 49%",
                    "slide30.jpg": "52% 58%",
                    "slide31.jpg": "51% 68%",
                    "slide32.jpg": "53% 49%",
                    "slide33.jpg": "54% 50%",
                    "slide34.jpg": "46% 62%",
                    "slide35.jpg": "47% 54%",
                    "slide36.jpg": "55% 61%",
                    "slide37.jpg": "50% 60%"
                },
                // Mobile-specific overrides to keep faces centered on narrow screens
                backgroundSlidePositionsMobile: {
                    "slide3.jpg": "50% 78%",
                    "slide6.jpg": "50% 64%",
                    "slide9.jpg": "82% 60%",
                    "slide15.jpg": "50% 46%",
                    "slide19.jpg": "59% 58%",
                    "slide37.jpg": "50% 62%"
                },
                slideDurationMs: 3000, // 3 seconds per slide

                // Video configuration (currently unused)
                backgroundVideo: "background-video.mp4", // Background video file path

                // Music Playlist configuration - Add as many songs as you want!
                playlist: [
                    {
                        file: "Dekha Hi Nahi.mp3",
                        title: "Dekha Hi Nahi",
                        artist: "Osho Jain",
                        albumArt: "dekha.png",
                    },
                    {
                        file: "Arz Kiya Hai.mp3",
                        title: "Arz Kiya Hai",
                        artist: "Anuv Jain",
                        albumArt: "arzkiya.png",
                    },
                    {
                        file: "Tu hi hai.mp3",
                        title: "Tu hi hai",
                        artist: "Twinkle Aggrwal",
                        albumArt: "tuhihai.png",
                    },
                    // Add more songs here following the same format!
                ],

                // Photo configuration
                photo1: "photo1.jpg", // First moment photo
                photo2: "photo2.jpg", // Growing together photo
                photo3: "photo3.jpg", // Forever starts now photo

                // Coupons configuration (make sure these files exist!)
                coupons: {
                    "coffeedate.png": "Coffee Date Coupon",
                    "kisspass.png": "Kissing Coupon",
                    "bearhug.png": "Tight Bear Hug Coupon",
                    "freewish.png": "Wildcard Coupon",
                    "slowdance.png": "Slow Dance Tutorial Coupon",
                    "winner.png": "Uno for Head Coupon",
                },

                // Quiz configuration
                quiz: {
                    photo1: "quiz-photo-1.jpg",
                    photo2: "quiz-photo-2.jpg",
                    photo3: "quiz-photo-3.jpg",
                },

                // Countdown configuration
                countdown: {
                    couplePhoto: "images/slide29.jpg",
                    valentinesDate: "2026-02-14T00:00:00", // Valentine's Day 2026
                },
            };

            // Playlist management
            let currentTrackIndex = 0;
            let heartIntervalId = null;
            let heartStopTimeoutId = null;

            function loadTrack(index) {
                if (index < 0 || index >= CONFIG.playlist.length) return;

                currentTrackIndex = index;
                const track = CONFIG.playlist[currentTrackIndex];
                const audio = document.getElementById("bgMusic");
                const albumArtImg = document.getElementById("albumArt");
                const songTitleEl = document.getElementById("songTitle");
                const songArtistEl = document.getElementById("songArtist");

                // Update audio source
                audio.src = track.file;

                // Update album art with smooth transition
                albumArtImg.style.opacity = "0";
                setTimeout(() => {
                    albumArtImg.src = track.albumArt;
                    albumArtImg.onerror = function () {
                        this.src =
                            'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"%3E%3Crect fill="%23d4a373" width="200" height="200"/%3E%3Ctext x="50%25" y="50%25" font-family="Arial" font-size="60" fill="%23faf8f5" text-anchor="middle" dominant-baseline="middle"%3E♫%3C/text%3E%3C/svg%3E';
                    };
                    albumArtImg.onload = function () {
                        this.style.opacity = "1";
                    };
                }, 200);

                // Update song info with animation
                songTitleEl.style.opacity = "0";
                songArtistEl.style.opacity = "0";
                setTimeout(() => {
                    songTitleEl.textContent = track.title;
                    songArtistEl.textContent = track.artist;
                    songTitleEl.style.opacity = "1";
                    songArtistEl.style.opacity = "1";
                }, 200);

                // Play if music was already playing
                if (musicStarted && !audio.paused) {
                    audio
                        .play()
                        .catch((e) => console.log("Playback error:", e));
                }
            }

            function nextTrack() {
                const nextIndex =
                    (currentTrackIndex + 1) % CONFIG.playlist.length;
                loadTrack(nextIndex);
            }

            function prevTrack() {
                const prevIndex =
                    (currentTrackIndex - 1 + CONFIG.playlist.length) %
                    CONFIG.playlist.length;
                loadTrack(prevIndex);
            }

            // Background slideshow
            let currentSlideIndex = 0;
            let shuffledSlides = [];
            let shuffledSlidePointer = 0;

            function shuffleSlides(slides) {
                const arr = [...slides];
                for (let i = arr.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [arr[i], arr[j]] = [arr[j], arr[i]];
                }
                return arr;
            }

            function refillSlideQueue(slides) {
                if (!slides || slides.length === 0) {
                    shuffledSlides = [];
                    shuffledSlidePointer = 0;
                    return;
                }
                shuffledSlides = shuffleSlides(slides);
                shuffledSlidePointer = 0;
            }

            function getNextSlide(slides) {
                if (
                    shuffledSlides.length === 0 ||
                    shuffledSlidePointer >= shuffledSlides.length
                ) {
                    refillSlideQueue(slides);
                }
                const nextSlide = shuffledSlides[shuffledSlidePointer];
                shuffledSlidePointer += 1;
                return nextSlide;
            }

            function getSlideObjectPosition(slidePath) {
                const fallbackPosition = "50% 62%";
                const positions = CONFIG.backgroundSlidePositions || {};
                const mobilePositions =
                    CONFIG.backgroundSlidePositionsMobile || {};
                if (!slidePath) return fallbackPosition;
                const fileName = slidePath.split("/").pop();
                const isMobileViewport = window.matchMedia(
                    "(max-width: 768px)",
                ).matches;
                if (isMobileViewport && mobilePositions[fileName]) {
                    return mobilePositions[fileName];
                }
                return positions[fileName] || fallbackPosition;
            }

            function applySlideFraming(slideImg, slidePath) {
                if (!slideImg) return;
                slideImg.style.objectPosition = getSlideObjectPosition(slidePath);
            }

            function initializeSlideshow() {
                const slides = CONFIG.backgroundSlides || [];
                const slideImg = document.getElementById("bgSlideshowImage");
                const slideshowBg = document.getElementById(
                    "slideshowBackground",
                );

                if (!slideImg || slides.length === 0) {
                    if (slideshowBg) {
                        slideshowBg.style.display = "none";
                    }
                    return;
                }

                const firstSlide = getNextSlide(slides);
                slideImg.src = firstSlide;
                applySlideFraming(slideImg, firstSlide);

                if (slides.length === 1) return;

                const duration = CONFIG.slideDurationMs || 3000;
                setInterval(() => {
                    slideImg.classList.add("fade-out");
                    setTimeout(() => {
                        const nextSlide = getNextSlide(slides);
                        slideImg.src = nextSlide;
                        applySlideFraming(slideImg, nextSlide);
                        slideImg.classList.remove("fade-out");
                    }, 1200);
                }, duration);
            }
            // Initialize media
            function initializeMedia() {
                const albumArtImg = document.getElementById("albumArt");
                const songTitleEl = document.getElementById("songTitle");
                const songArtistEl = document.getElementById("songArtist");

                // Set background slideshow
                initializeSlideshow();

                // Add smooth transitions to song info elements
                albumArtImg.style.transition = "opacity 0.3s ease";
                songTitleEl.style.transition = "opacity 0.3s ease";
                songArtistEl.style.transition = "opacity 0.3s ease";

                // Load first track from playlist
                if (CONFIG.playlist && CONFIG.playlist.length > 0) {
                    loadTrack(0);
                }

                // Set photos
                document.getElementById("photo1").src = CONFIG.photo1;
                document.getElementById("photo2").src = CONFIG.photo2;
                document.getElementById("photo3").src = CONFIG.photo3;

                // Add error handling for photos
                document.querySelectorAll(".memory-photo").forEach((img) => {
                    img.onerror = function () {
                        this.style.display = "none";
                    };
                });

                // Initialize quiz photos
                initializeQuiz();
            }

            // Quiz functionality
            let quizAnswered = 0;

            function flipOption(element) {
                if (element.classList.contains("flipped")) return;

                element.classList.add("flipped");
                quizAnswered++;

                // Show continue button after all questions answered
                if (quizAnswered >= 3) {
                    setTimeout(() => {
                        document
                            .getElementById("quizContinueBtn")
                            .classList.add("show");
                    }, 500);
                }
            }

            // Initialize quiz photos
            function initializeQuiz() {
                if (!CONFIG.quiz) return;

                const quizPhoto1 = document.getElementById("quizPhoto1");
                const quizPhoto2 = document.getElementById("quizPhoto2");
                const quizPhoto3 = document.getElementById("quizPhoto3");

                if (quizPhoto1) quizPhoto1.src = CONFIG.quiz.photo1;
                if (quizPhoto2) quizPhoto2.src = CONFIG.quiz.photo2;
                if (quizPhoto3) quizPhoto3.src = CONFIG.quiz.photo3;

                // Add error handling
                document.querySelectorAll(".question-photo").forEach((img) => {
                    img.onerror = function () {
                        this.style.display = "none";
                    };
                });
            }

            // Download coupon function
            function downloadCoupon(filename) {
                const link = document.createElement("a");
                link.href = filename;
                link.download = filename;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);

                // Show a cute notification
                showNotification("\u{1F495} Coupon downloaded! Use it wisely!");
            }

            // Show notification
            function showNotification(message) {
                const notification = document.createElement("div");
                notification.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: var(--primary);
                color: var(--light);
                padding: 1.5rem 3rem;
                border-radius: 12px;
                font-family: 'Lora', serif;
                font-size: 1.1rem;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
                z-index: 10000;
                animation: fadeInScale 0.3s ease;
            `;
                notification.textContent = message;
                document.body.appendChild(notification);

                setTimeout(() => {
                    notification.style.animation = "fadeOutScale 0.3s ease";
                    setTimeout(() => notification.remove(), 300);
                }, 2000);
            }

            // Toggle slideshow visibility: show it before proposal, hide it on proposal section
            const videoObserver = new IntersectionObserver(
                (entries) => {
                    entries.forEach((entry) => {
                        if (entry.target.id !== "proposal") return;
                        const videoBg = document.getElementById(
                            "slideshowBackground",
                        );
                        if (entry.isIntersecting) {
                            videoBg.classList.add("hidden");
                        } else {
                            videoBg.classList.remove("hidden");
                        }
                    });
                },
                { threshold: 0.5 },
            );

            // Observe proposal section
            videoObserver.observe(document.getElementById("proposal"));

            // Music player functionality
            const audio = document.getElementById("bgMusic");
            const playPauseBtn = document.getElementById("playPauseBtn");
            const playIcon = playPauseBtn.querySelector(".play-icon");
            const pauseIcon = playPauseBtn.querySelector(".pause-icon");
            const progressSlider = document.getElementById("progressSlider");
            const progressFill = document.getElementById("progressFill");
            const currentTimeEl = document.getElementById("currentTime");
            const durationEl = document.getElementById("duration");
            const volumeSlider = document.getElementById("volumeSlider");
            const volumeBtn = document.getElementById("volumeBtn");
            const musicPlayer = document.getElementById("musicPlayer");
            const togglePlayerBtn = document.getElementById("togglePlayer");
            const prevBtn = document.getElementById("prevBtn");
            const nextBtn = document.getElementById("nextBtn");

            // Initialize on load
            window.addEventListener("load", () => {
                initializeMedia();
                audio.volume = 0.7;
            });

            // Auto-advance to next song when current song ends
            audio.addEventListener("ended", () => {
                nextTrack();
            });

            // Skip to next track
            nextBtn.addEventListener("click", () => {
                nextTrack();
            });

            // Skip to previous track
            prevBtn.addEventListener("click", () => {
                prevTrack();
            });

            // Auto-play music when user starts journey
            let musicStarted = false;
            function startJourneyWithMusic() {
                if (!musicStarted) {
                    audio
                        .play()
                        .catch((e) => console.log("Auto-play prevented:", e));
                    musicStarted = true;
                    musicPlayer.classList.add("playing");
                }
                startJourney();
            }

            // Play/Pause functionality
            playPauseBtn.addEventListener("click", () => {
                if (audio.paused) {
                    audio.play();
                    playIcon.style.display = "none";
                    pauseIcon.style.display = "block";
                    musicPlayer.classList.add("playing");
                } else {
                    audio.pause();
                    playIcon.style.display = "block";
                    pauseIcon.style.display = "none";
                    musicPlayer.classList.remove("playing");
                }
            });

            // Update progress bar
            audio.addEventListener("timeupdate", () => {
                if (!isFinite(audio.duration) || audio.duration === 0) {
                    return;
                }
                const progress = (audio.currentTime / audio.duration) * 100;
                progressFill.style.width = progress + "%";
                progressSlider.value = progress;
                currentTimeEl.textContent = formatTime(audio.currentTime);
            });

            // Set duration when loaded
            audio.addEventListener("loadedmetadata", () => {
                durationEl.textContent = formatTime(audio.duration);
            });

            // Seek functionality
            progressSlider.addEventListener("input", (e) => {
                const time = (e.target.value / 100) * audio.duration;
                audio.currentTime = time;
            });

            // Volume control
            volumeSlider.addEventListener("input", (e) => {
                audio.volume = e.target.value / 100;
                updateVolumeIcon();
            });

            volumeBtn.addEventListener("click", () => {
                if (audio.volume > 0) {
                    audio.volume = 0;
                    volumeSlider.value = 0;
                } else {
                    audio.volume = 0.7;
                    volumeSlider.value = 70;
                }
                updateVolumeIcon();
            });

            function updateVolumeIcon() {
                if (audio.volume === 0) {
                    volumeBtn.textContent = "🔇";
                } else if (audio.volume < 0.5) {
                    volumeBtn.textContent = "🔉";
                } else {
                    volumeBtn.textContent = "🔊";
                }
            }

            // Toggle player minimize
            togglePlayerBtn.addEventListener("click", () => {
                musicPlayer.classList.toggle("minimized");
            });

            // Format time helper
            function formatTime(seconds) {
                if (isNaN(seconds)) return "0:00";
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins}:${secs.toString().padStart(2, "0")}`;
            }

            // Create floating particles
            function createParticles() {
                const particlesContainer = document.getElementById("particles");
                for (let i = 0; i < 30; i++) {
                    const particle = document.createElement("div");
                    particle.className = "particle";
                    particle.style.left = Math.random() * 100 + "%";
                    particle.style.animationDelay = Math.random() * 8 + "s";
                    particle.style.animationDuration =
                        Math.random() * 4 + 6 + "s";
                    particlesContainer.appendChild(particle);
                }
            }

            createParticles();

            // Smooth scroll to section
            function scrollToSection(sectionId) {
                const section = document.getElementById(sectionId);
                section.scrollIntoView({ behavior: "smooth" });

                setTimeout(() => {
                    section.classList.add("visible");
                }, 500);
            }

            function startJourney() {
                scrollToSection("memory1");
            }

            function nextSection(sectionId) {
                scrollToSection(sectionId);
            }

            function resetHearts() {
                const heartsContainer = document.getElementById("hearts");
                if (heartIntervalId) {
                    clearInterval(heartIntervalId);
                    heartIntervalId = null;
                }
                if (heartStopTimeoutId) {
                    clearTimeout(heartStopTimeoutId);
                    heartStopTimeoutId = null;
                }
                if (heartsContainer) {
                    heartsContainer.classList.remove("show");
                    heartsContainer.innerHTML = "";
                }
            }

            function replayMagic() {
                const celebration = document.getElementById("celebration");
                if (celebration) {
                    celebration.classList.remove("show");
                }
                resetHearts();
                resetBouquet();
                scrollToSection("landing");
            }

            // Intersection Observer for sections
            const observerOptions = {
                threshold: 0.3,
                rootMargin: "0px",
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add("visible");
                    }
                });
            }, observerOptions);

            document.querySelectorAll(".section").forEach((section) => {
                observer.observe(section);
            });

            // No button runs away from cursor with eye tracking
            const noBtn = document.getElementById("noBtn");
            const yesBtn = document.getElementById("yesBtn");
            const pupilLeft = document.querySelector(".pupil-left");
            const pupilRight = document.querySelector(".pupil-right");
            let noBtnInitialized = false;

            // Initialize no button position when proposal section is visible
            const proposalObserver = new IntersectionObserver(
                (entries) => {
                    entries.forEach((entry) => {
                        if (
                            entry.target.id === "proposal" &&
                            entry.isIntersecting &&
                            !noBtnInitialized
                        ) {
                            // Set initial position relative to yes button at 200px distance
                            const yesRect = yesBtn.getBoundingClientRect();
                            noBtn.style.position = "absolute";
                            noBtn.style.left = "200px"; // Start at 200px to the right
                            noBtn.style.top = "0px";
                            noBtnInitialized = true;
                        }
                    });
                },
                { threshold: 0.5 },
            );

            proposalObserver.observe(document.getElementById("proposal"));

            // Track cursor and move no button
            document.addEventListener("mousemove", (e) => {
                if (!noBtnInitialized) return;

                const noBtnRect = noBtn.getBoundingClientRect();
                const yesBtnRect = yesBtn.getBoundingClientRect();
                const noBtnCenterX = noBtnRect.left + noBtnRect.width / 2;
                const noBtnCenterY = noBtnRect.top + noBtnRect.height / 2;
                const yesBtnCenterX = yesBtnRect.left + yesBtnRect.width / 2;
                const yesBtnCenterY = yesBtnRect.top + yesBtnRect.height / 2;

                // Calculate distance from cursor to no button
                const distX = e.clientX - noBtnCenterX;
                const distY = e.clientY - noBtnCenterY;
                const distance = Math.sqrt(distX * distX + distY * distY);

                // Eye tracking - make pupils follow cursor
                const eyeTrackDistance = 200;
                if (distance < eyeTrackDistance) {
                    const angle = Math.atan2(distY, distX);
                    const pupilMoveDistance = 3.5; // How far pupils can move from center

                    const pupilX = Math.cos(angle) * pupilMoveDistance;
                    const pupilY = Math.sin(angle) * pupilMoveDistance;

                    if (pupilLeft)
                        pupilLeft.style.transform = `translate(${pupilX}px, ${pupilY}px)`;
                    if (pupilRight)
                        pupilRight.style.transform = `translate(${pupilX}px, ${pupilY}px)`;
                } else {
                    if (pupilLeft)
                        pupilLeft.style.transform = "translate(0, 0)";
                    if (pupilRight)
                        pupilRight.style.transform = "translate(0, 0)";
                }

                // Move button when cursor gets close
                const escapeRadius = 120; // Distance at which button starts moving

                if (distance < escapeRadius) {
                    // Calculate the current position relative to YES button
                    let currentX = noBtnCenterX - yesBtnCenterX;
                    let currentY = noBtnCenterY - yesBtnCenterY;

                    // Calculate angle from cursor to no button
                    const angleFromCursor = Math.atan2(
                        noBtnCenterY - e.clientY,
                        noBtnCenterX - e.clientX,
                    );

                    // Calculate how much to move based on distance (closer = faster movement)
                    const moveIntensity =
                        (escapeRadius - distance) / escapeRadius;
                    const moveDistance = 40 * moveIntensity;

                    // Move perpendicular to the line from cursor to button (orbital movement)
                    // This creates circular motion around the YES button
                    const perpendicularAngle = angleFromCursor + Math.PI / 2;

                    // Add movement in perpendicular direction (creates orbiting)
                    let newX =
                        currentX + Math.cos(perpendicularAngle) * moveDistance;
                    let newY =
                        currentY + Math.sin(perpendicularAngle) * moveDistance;

                    // Calculate distance from YES button
                    const distanceFromYes = Math.sqrt(
                        newX * newX + newY * newY,
                    );

                    // Keep button at exactly 200px radius, pushing it toward YES if it goes beyond
                    const targetRadius = 200;
                    if (distanceFromYes > targetRadius) {
                        // Pull button back toward YES button (repulsion toward YES)
                        const angleToYes = Math.atan2(newY, newX);
                        newX = Math.cos(angleToYes) * targetRadius;
                        newY = Math.sin(angleToYes) * targetRadius;
                    } else if (distanceFromYes < targetRadius - 20) {
                        // If too close to YES, push back out to maintain orbit
                        const angleToYes = Math.atan2(newY, newX);
                        newX = Math.cos(angleToYes) * targetRadius;
                        newY = Math.sin(angleToYes) * targetRadius;
                    }

                    // Apply smooth movement
                    noBtn.style.transform = `translate(${newX}px, ${newY}px)`;
                    noBtn.style.transition = "transform 0.15s ease-out";
                }
            });

            // Prevent clicking the no button
            noBtn.addEventListener("click", (e) => {
                e.preventDefault();
                // Make it jump to opposite side of the circle when clicked
                const currentTransform = noBtn.style.transform;
                const currentX = parseFloat(
                    currentTransform.match(/translate\((-?\d+\.?\d*)px/)?.[1] ||
                        0,
                );
                const currentY = parseFloat(
                    currentTransform.match(/,\s*(-?\d+\.?\d*)px/)?.[1] || 0,
                );

                // Jump to opposite side (180 degrees around the circle)
                const currentAngle = Math.atan2(currentY, currentX);
                const oppositeAngle = currentAngle + Math.PI;
                const radius = 200;

                noBtn.style.transform = `translate(${Math.cos(oppositeAngle) * radius}px, ${Math.sin(oppositeAngle) * radius}px)`;
                noBtn.style.transition =
                    "transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55)";
            });

            // Yes button clicked
            function sayYes() {
                // Show celebration section
                document.getElementById("celebration").classList.add("show");
                scrollToSection("celebration");

                // Create hearts animation
                const heartsContainer = document.getElementById("hearts");
                heartsContainer.classList.add("show");

                function createHeart() {
                    const heart = document.createElement("div");
                    heart.className = "heart";
                    heart.innerHTML = "&#x2764;&#xFE0F;";
                    heart.style.left = Math.random() * 100 + "%";
                    heart.style.animationDuration = Math.random() * 2 + 3 + "s";
                    heart.style.animationDelay = Math.random() * 1 + "s";
                    heartsContainer.appendChild(heart);

                    setTimeout(() => {
                        heart.remove();
                    }, 5000);
                }

                // Create multiple hearts
                for (let i = 0; i < 50; i++) {
                    setTimeout(createHeart, i * 100);
                }

                // Keep creating hearts
                if (heartIntervalId) {
                    clearInterval(heartIntervalId);
                }
                if (heartStopTimeoutId) {
                    clearTimeout(heartStopTimeoutId);
                }
                heartIntervalId = setInterval(createHeart, 300);

                // Stop after 10 seconds
                heartStopTimeoutId = setTimeout(() => {
                    if (heartIntervalId) {
                        clearInterval(heartIntervalId);
                        heartIntervalId = null;
                    }
                }, 10000);

                // Start countdown timer
                setTimeout(() => {
                    startCountdown();
                }, 2000);
            }

            // Allow scrolling on celebration (no wheel lock)

            // Countdown timer functionality
            let countdownInterval;

            function startCountdown() {
                const countdownWidget =
                    document.getElementById("countdownWidget");
                const resetBtn = document.getElementById("resetBtn");
                const countdownPhoto =
                    document.getElementById("countdownPhoto");

                // Set couple photo
                if (CONFIG.countdown && CONFIG.countdown.couplePhoto) {
                    countdownPhoto.src = CONFIG.countdown.couplePhoto;
                    countdownPhoto.onerror = function () {
                        this.src =
                            'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"%3E%3Crect fill="%233a7bd5" width="200" height="200"/%3E%3Ctext x="50%25" y="50%25" font-family="Arial" font-size="60" fill="%23ffffff" text-anchor="middle" dominant-baseline="middle"%3E💕%3C/text%3E%3C/svg%3E';
                    };
                }

                // Show countdown and reset button
                countdownWidget.classList.add("show");
                resetBtn.classList.add("show");

                // Calculate and update countdown
                function updateCountdown() {
                    const now = new Date().getTime();
                    const valentinesDay = new Date(
                        CONFIG.countdown.valentinesDate,
                    ).getTime();
                    const distance = valentinesDay - now;

                    if (distance < 0) {
                        document.getElementById("days").textContent = "00";
                        document.getElementById("hours").textContent = "00";
                        document.getElementById("minutes").textContent = "00";
                        document.getElementById("seconds").textContent = "00";
                        clearInterval(countdownInterval);
                        return;
                    }

                    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                    const hours = Math.floor(
                        (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60),
                    );
                    const minutes = Math.floor(
                        (distance % (1000 * 60 * 60)) / (1000 * 60),
                    );
                    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                    document.getElementById("days").textContent = String(
                        days,
                    ).padStart(2, "0");
                    document.getElementById("hours").textContent = String(
                        hours,
                    ).padStart(2, "0");
                    document.getElementById("minutes").textContent = String(
                        minutes,
                    ).padStart(2, "0");
                    document.getElementById("seconds").textContent = String(
                        seconds,
                    ).padStart(2, "0");
                }

                updateCountdown();
                countdownInterval = setInterval(updateCountdown, 1000);
            }

            // Toggle countdown minimize
            window.addEventListener("load", () => {
                const toggleCountdown =
                    document.getElementById("toggleCountdown");
                const countdownWidget =
                    document.getElementById("countdownWidget");
                if (toggleCountdown && countdownWidget) {
                    toggleCountdown.addEventListener("click", () => {
                        countdownWidget.classList.toggle("minimized");
                    });
                }
            });

            // Minimize countdown on scroll (after celebration)
            let lastScrollTop = 0;
            window.addEventListener("scroll", () => {
                const countdownWidget =
                    document.getElementById("countdownWidget");
                if (countdownWidget.classList.contains("show")) {
                    const st =
                        window.pageYOffset ||
                        document.documentElement.scrollTop;
                    if (st > lastScrollTop && st > 100) {
                        countdownWidget.classList.add("minimized");
                    }
                    lastScrollTop = st <= 0 ? 0 : st;
                }
            });

            // Reset experience
            function resetExperience() {
                if (confirm("Are you sure you want to start over baby?")) {
                    // Hide countdown and reset button
                    document
                        .getElementById("countdownWidget")
                        .classList.remove("show");
                    document
                        .getElementById("resetBtn")
                        .classList.remove("show");

                    // Hide celebration
                    document
                        .getElementById("celebration")
                        .classList.remove("show");

                    // Reset quiz
                    quizAnswered = 0;
                    document.querySelectorAll(".quiz-option").forEach((opt) => {
                        opt.classList.remove("flipped");
                    });
                    const quizContinueBtn =
                        document.getElementById("quizContinueBtn");
                    if (quizContinueBtn) {
                        quizContinueBtn.classList.remove("show");
                    }

                    // Stop countdown
                    if (countdownInterval) {
                        clearInterval(countdownInterval);
                    }

                    // Scroll to top
                    window.scrollTo({ top: 0, behavior: "smooth" });

                    // Reset sections visibility
                    document.querySelectorAll(".section").forEach((section) => {
                        section.classList.remove("visible");
                    });
                    document.getElementById("landing").classList.add("visible");

                    // Reset music if needed
                    const audio = document.getElementById("bgMusic");
                    if (musicStarted) {
                        audio.pause();
                        audio.currentTime = 0;
                        musicStarted = false;
                        document
                            .getElementById("musicPlayer")
                            .classList.remove("playing");
                        const playIcon = document.querySelector(".play-icon");
                        const pauseIcon = document.querySelector(".pause-icon");
                        if (playIcon) playIcon.style.display = "block";
                        if (pauseIcon) pauseIcon.style.display = "none";
                    }

                    // Show slideshow background again
                    const slideshowBg = document.getElementById(
                        "slideshowBackground",
                    );
                    if (slideshowBg) {
                        slideshowBg.classList.remove("hidden");
                    }

                    // Reset bouquet
                    resetBouquet();
                }
            }

            // Add fadeOutScale animation
            const style = document.createElement("style");
            style.textContent = `
            @keyframes fadeOutScale {
                from {
                    opacity: 1;
                    transform: translate(-50%, -50%) scale(1);
                }
                to {
                    opacity: 0;
                    transform: translate(-50%, -50%) scale(0.8);
                }
            }
        `;
            document.head.appendChild(style);
        </script>

        <!-- Countdown Timer Widget -->
        <div class="countdown-widget" id="countdownWidget">
            <div class="countdown-container">
                <img
                    src=""
                    alt="Us"
                    class="countdown-photo"
                    id="countdownPhoto"
                />
                <div class="countdown-content">
                    <div class="countdown-title">Valentine's Day 2026 💕</div>
                    <div class="countdown-timer">
                        <div class="time-unit">
                            <span class="time-value" id="days">00</span>
                            <span class="time-label">Days</span>
                        </div>
                        <div class="time-unit">
                            <span class="time-value" id="hours">00</span>
                            <span class="time-label">Hours</span>
                        </div>
                        <div class="time-unit">
                            <span class="time-value" id="minutes">00</span>
                            <span class="time-label">Mins</span>
                        </div>
                        <div class="time-unit">
                            <span class="time-value" id="seconds">00</span>
                            <span class="time-label">Secs</span>
                        </div>
                    </div>
                </div>
                <button class="toggle-countdown" id="toggleCountdown">
                    <span>♥</span>
                </button>
            </div>
        </div>

        <!-- Reset Button -->
        <button
            class="reset-experience"
            id="resetBtn"
            onclick="resetExperience()"
        >
            ↻ Start Over
        </button>
    </body>
</html>








